/**
 * @file    sys_utils.h
 * @brief   系统工具函数模块
 * @author  Refactored from system_control.c
 * @date    2024-12-27
 * @version 1.0
 * 
 * @details 本模块包含：
 *          - 结构体内存初始化
 *          - 定时检测函数
 *          - 硬件初始化函数
 *          - 后吹扫控制
 *          - 手动模式控制
 */

#ifndef __SYS_UTILS_H
#define __SYS_UTILS_H

#include "main.h"

/*==============================================================================
 * 函数声明 - 初始化相关
 *============================================================================*/

/**
 * @brief  清除结构体内存
 * @note   初始化所有系统结构体
 */
void clear_struct_memory(void);

/**
 * @brief  JTAG禁用
 * @note   释放JTAG引脚作为普通IO使用
 */
void JTAG_Diable(void);

/**
 * @brief  上电检查功能
 * @retval 0=正常
 */
uint8 Power_ON_Begin_Check_Function(void);

/**
 * @brief  硬件保护继电器功能
 */
void HardWare_Protect_Relays_Function(void);

/*==============================================================================
 * 函数声明 - 定时检测
 *============================================================================*/

/**
 * @brief  1秒周期检测
 * @note   包含3秒和2秒周期的调试输出
 */
void One_Sec_Check(void);

/*==============================================================================
 * 函数声明 - 后吹扫控制
 *============================================================================*/

/**
 * @brief  后吹扫开始
 * @note   打开风机，设置后吹扫标志，执行延时
 */
void Last_Blow_Start_Fun(void);

/**
 * @brief  后吹扫结束
 * @note   关闭风机，清除后吹扫标志
 */
void Last_Blow_End_Fun(void);

/*==============================================================================
 * 函数声明 - 手动模式
 *============================================================================*/

/**
 * @brief  手动继电器功能
 * @retval 0=正常
 */
uint8 Manual_Realys_Function(void);

/**
 * @brief  退出手动模式
 * @retval 0=正常
 * @note   关闭所有输出
 */
uint8 GetOut_Mannual_Function(void);

/*==============================================================================
 * 函数声明 - 空函数（保留接口）
 *============================================================================*/

/**
 * @brief  字节转位（保留接口）
 */
uint8 byte_to_bit(void);

/**
 * @brief  加载LCD数据（保留接口）
 */
void Load_LCD_Data(void);

/**
 * @brief  拷贝到LCD（保留接口）
 */
void copy_to_lcd(void);

#endif /* __SYS_UTILS_H */

